<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Simulador de Nota Fiscal - TOP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    /* ESTILOS GLOBAIS E DE FUNDO (DARK MODE) */
    body { 
      font-family: 'Arial', sans-serif; 
      margin: 0; 
      background-color: #121212; /* Fundo Escuro */
      color: #e0e0e0; 
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container { 
      width: 90%;
      max-width: 500px; 
      background: #1f1f1f; /* Cor do Container Principal */
      padding: 30px; 
      border-radius: 12px; 
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5); /* Sombra Profunda */
      border: 1px solid #333;
    }

    /* T칈TULOS E TEXTOS */
    h1 { 
      color: #00bfff; /* Azul Claro */
      font-size: 1.8em;
      padding-bottom: 5px; 
      border-bottom: 2px solid #00bfff;
      margin-bottom: 20px;
    }
    .icon { margin-right: 10px; font-size: 1.2em; }

    /* CAMPOS DE ENTRADA */
    .input-group {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    label { 
      font-weight: bold;
      min-width: 150px; /* Alinhamento das Labels */
      color: #bdbdbd;
    }
    input[type="number"] { 
      flex-grow: 1;
      padding: 10px; 
      background-color: #333; /* Fundo do Campo */
      border: none; 
      border-radius: 6px; 
      color: #fff; 
      font-size: 1em;
      transition: border-color 0.3s;
    }
    input[type="number"]:focus {
      outline: none;
      box-shadow: 0 0 0 2px #00bfff;
    }

    /* BOT츾O DE CALCULAR */
    .button-group {
      text-align: center;
      margin-top: 30px;
    }
    input[type="button"] { 
      background-color: #00bfff; /* Azul Principal */
      color: #121212; 
      padding: 12px 25px; 
      border: none; 
      border-radius: 6px; 
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1em;
      transition: background-color 0.3s, transform 0.1s;
      box-shadow: 0 4px 15px rgba(0, 191, 255, 0.4);
    }
    input[type="button"]:hover {
      background-color: #0099cc;
    }
    input[type="button"]:active {
      transform: scale(0.98);
    }

    /* RESULTADOS (CAIXAS MAIS TOP) */
    .results-grid {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      margin-top: 40px;
    }
    .result-box { 
      flex: 1;
      padding: 15px; 
      border-radius: 8px; 
      text-align: center;
      min-height: 80px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    /* Estilo para o Valor do Imposto (Laranja/Ouro) */
    .imposto { 
      background-color: #cc8400; /* Laranja Escuro */
      border: 1px solid #ffcc66;
    }
    .imposto h3 { margin: 0 0 5px 0; font-size: 0.9em; color: #ffcc66; }
    .imposto span { font-size: 1.3em; font-weight: bold; color: #fff; }

    /* Estilo para o Valor L칤quido (Azul/Frio) */
    .resultado { 
      background-color: #0056b3; /* Azul Escuro */
      border: 1px solid #66b3ff;
    }
    .resultado h3 { margin: 0 0 5px 0; font-size: 0.9em; color: #66b3ff; }
    .resultado span { font-size: 1.3em; font-weight: bold; color: #fff; }

    /* Responsividade para celular */
    @media (max-width: 600px) {
      .results-grid {
        flex-direction: column;
        gap: 15px;
      }
      .input-group {
        flex-direction: column;
        align-items: flex-start;
      }
      label {
        margin-bottom: 5px;
        min-width: auto;
      }
      input[type="number"] {
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><span class="icon">游</span>Simulador de Nota Fiscal</h1>
   먝
    <p>Calcule o valor l칤quido ap칩s a dedu칞칚o do imposto em percentual.</p>

        <form>
            <div class="input-group">
          <label for="valor_bruto">Valor Bruto (R$):</label>
          <input type="number" step="0.01" id="valor_bruto" required placeholder="Ex: 9500.00">
            </div>

            <div class="input-group">
          <label for="imposto_percentual">Imposto em %:</label>
          <input type="number" step="0.01" id="imposto_percentual" required placeholder="Ex: 13.00">
            </div>
            
            <div class="button-group">
          <input type="button" value="Calcular Valor L칤quido" onclick="calcularSimulador()">
            </div>
    </form>
        
        <div class="results-grid">
            <div class="result-box imposto">
                <h3>Imposto a ser Deduzido:</h3>
                <span id="resultadoImposto">R$ 0,00</span>
            </div>
            <div class="result-box resultado">
                <h3>Valor L칤quido a Receber:</h3>
                <span id="resultadoLiquido">R$ 0,00</span>
            </div>
        </div>
        

        <script>
function calcularSimulador() {
    // 1. Capturar os valores (usando os IDs do HTML)
    const valorBrutoInput = document.getElementById('valor_bruto').value;
    const impostoPercentualInput = document.getElementById('imposto_percentual').value;

    // Converte para n칰mero (float)
    const valorBruto = parseFloat(valorBrutoInput);
    const impostoPercentual = parseFloat(impostoPercentualInput);

    // Valida칞칚o b치sica
    if (isNaN(valorBruto) || isNaN(impostoPercentual) || valorBruto <= 0) {
        document.getElementById('resultadoImposto').textContent = 'R$ 0,00';
        document.getElementById('resultadoLiquido').textContent = 'R$ 0,00';
        alert("Por favor, insira valores num칠ricos v치lidos e positivos.");
        return;
    }

    // 2. A L칩gica do C치lculo (a mesma do seu views.py, agora em JS)
    const taxaImposto = impostoPercentual / 100;
    const valorImposto = valorBruto * taxaImposto;
    const valorLiquido = valorBruto - valorImposto;

    // 3. Exibir o resultado na tela (com 2 casas decimais)
    document.getElementById('resultadoImposto').textContent = 'R$ ' + valorImposto.toFixed(2) + ' (' + impostoPercentual + '%)';
    document.getElementById('resultadoLiquido').textContent = 'R$ ' + valorLiquido.toFixed(2);
}
</script>
  </div>
</body>
</html>
